#如何将一个小的字符串拼接成一个大的字符串？

其实这个问题本章第一个markdown文件中已经介绍了一个非常好的内置方法'xxx'.join()，再这篇当中，我再进行一个详细的补充吧

看一下我们实际的一个问题

![](http://i.imgur.com/qE99Z7n.png)

那么方法一就是使用加号+，对不同的字符串进行一个连接操作

比如

	s1='ac'
	s2='fun'
	s1+s2

输出
	acfun

其实之前一直没有思考过一个问题，为什么我使用了加号就能实现字符串的拼接功能呢？

简单看一下字符串类型数据，自带的内置函数吧

![](http://i.imgur.com/mTer1Xl.png)

这里本质上是一个**运算符**重载，当加号两边的数据类型均为字符串时，触发的就是字符串类型的`__add__`方法，然后实现两个字符串连接

	s1+s2本质上等价于str.__add__(s1,s2)

同理

	s1>s2本质上等价于str.__gt__(s1,s2)
	s1<s2本质上等价于str.__lt__(s1,s2)

##法一：迭代加号连接
回到问题本身吧

我们直接看源码

	>>> pl=["11","22","33","44","55"]
	>>> s=''
	>>> for p in pl:
	...     s=s+p
	...
	>>> s
	'1122334455'
	>>>

这种做法有什么问题？

每次添加一个字符串都会造成新的字符串的生成和旧的字符串的释放，是一个浪费资源的过程

##法二：str.join()拼接

简单看一下这个方法的API

>S.join(iterable) ->string

传入一个可迭代对象，返回一个字符串

比如

	';'.join(['abc','123','xyz'])	//输出'abc;123;xyz'

	''.join(['abc','123','xyz'])	//输出'abc123xyz'

然后，有的时候我们传入的列表文件既有字符型，又有数字型，我想连接可以吗？

	>>> l=['abc',123,45,'xyz']
	>>> ''.join(l)
	Traceback (most recent call last):
	  File "<stdin>", line 1, in <module>
	TypeError: sequence item 1: expected string, int found

报错了，为什么？因为.join()是字符串的内置方法，数值型可没有这个方法

那怎么办？**使用str(x)+列表解析将所有数值型转成字符串型再操作吧**

	>>> ''.join([str(x) for x in l])
	'abc12345xyz'

但是这种列表解析的做法还是需要生成一个列表，有点浪费

想到之前生成器对象非常节省开销，这里同样可以使用，方法很简单，就是把列表的[]修改成()，变成生成器迭代的方式

	>>> (str(x) for x in l)
	<generator object <genexpr> at 0x02996EB8>

显示了这是一个生成器对象

然后用法如下
	
	>>> ''.join([str(x) for x in l])
	'abc12345xyz'