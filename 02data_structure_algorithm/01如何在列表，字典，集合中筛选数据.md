
#如何在列表，字典，集合中筛选数据？
>首先我们需要了解python的基本语法和相关使用，熟悉列表，字典（键值组合），集合（无重复数据项），这三者的联系和区别，然后通过设置不同的条件来进行数据的筛选。

一图胜千言啊

![](http://i.imgur.com/q6X8jnl.png)

##列表篇（list）
首先来创建一个由10个随机数组成的列表吧

>from  random  import  randint

>data = [randint(-10,10) for a in range(10)]

直接键入data即可出现包含10个随机随机数的列表data

>[-6, 1, 7, -6, -1, -2, 6, -4, 0, 9]

###方法一：
filter函数，参数如下：

>filter(function or None,sequence)

####举例：
想要输出data列表中大于等于0项，在使用filter的时候就是
>filter(lambda x:x>=0,data)

输出结果为：

>[1, 7, 6, 0, 9]
###方法二：
列表解析
>[元素操作 迭代操作 判断条件]

迭代列表中的每个元素，将其和判断条件进行比较，最后进行元素操作
####举例：
同上例，输出data列表中大于等于0的项，使用列表解析时
>[x for x in data if x>=0]

输出结果同样为

>[1, 7, 6, 0, 9]

###效率PK：filter() VS 列表解析 

使用ipython时，在代码前面添加timeit，可显示1000000次重复执行该代码后，所用的总时间。

经过测试发现，列表解析的时间只有filter()花费时间的一半，因此在实际使用中，对于列表类型数据的筛选，我们更推荐使用`列表解析`的方法

##字典篇(dictionary)
关于字典，我们首先需要知道，字典是一个非常典型的`键:值（Key:Value）`型数据结构

首先我们构造一个字典
>from random import randint
>dict = {x:randint(60,100) for x in range(1,21)}
//生成一个以1到20为键，60到100之间的随机数为值的字典

大致数据如下
>{1: 100, 2: 85, 3: 98, 4: 73, 5: 87, 6: 88, 7: 93, 8: 61, 9: 89, 10: 65, 11: 76, 12: 66, 13: 92, 14: 67, 15: 95, 16: 88, 17: 84, 18: 100, 19: 60}

###字典解析
字典解析之前，我们先介绍一下字典的迭代

对于列表的迭代，我们使用

>[x for x in data]

如果我们对于字典解析也使用这样的方法，其实我们迭代的就是字典的键，对字典的值，我们并没有做任何的操作

因此想要同时迭代键和值，我们需要这样

>{k:v for k,v in dict.iteritems()}  //k,v分别对应键和值，可自定义名字，dict为字典名，同样可以自定义，而iteritems()则为字典项的固定函数，不能修改。

字典解析的操作

>{键:值操作 迭代操作 判断条件}

通过迭代操作，取每一项的键值，进行判断，最后进行键值操作

####举例：

比如我生成的20个字典项对应的是20位同学的成绩，我想从中筛选出成绩大于等于90分的同学

>{k:v for k,v in dict.iteritems() if v >= 90}

结果如下

>{1: 100, 3: 98, 7: 93, 13: 92, 15: 95, 18: 100}

##集合篇(set)

集合本质上其实相当于去重后的列表，所以我们构建集合可以直接使用列表

>s = set(listname)

我们直接使用列表篇生成的data为set的原始素材

>set([0, 1, 6, 7, 9, -1, -6, -4, -2]) //去除了一个重复项-6

###集合解析

非常类似于字典解析，只是少了冒号，且只有一个元素

集合解析操作

>{元素操作 迭代操作 判断条件}

通过迭代操作，取set中每一个元素，进行判断，最后进行元素操作

####举例
比如我想从集合s中筛选出能被3整除的数

>{x for x in s if x%3==0}

结果如下：

>set([0, 9, -6, 6])


##特别说明一下
* 注意列表的符号是`[]`，而字典和集合的符号都是`{}`
* 注意字典解析的第一项，键值之间使用`冒号`分割，第二项键值之间使用`逗号`分割